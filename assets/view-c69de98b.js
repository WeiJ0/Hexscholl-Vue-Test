import{i as l,f as r,a as c,h as a}from"./API-df8d6587.js";import{s,b as d}from"./Notify-2ba6e6d3.js";let m={id:"",info:{name:"",content:"",image:""},getID:function(){let e=new URL(window.location.href);this.id=e.searchParams.get("id"),this.id?this.getInfo():s("找不到景點").then(()=>{window.location.href="./index.html"})},getInfo:async function(){let e=await r(this.id);const{isSuccess:n,message:i,view:o}=e;n?(this.info=e.view,this.render(),this.bindEvent()):s(e.message).then(()=>{window.location.href="./index.html"})},render:function(){const{name:e,content:n,image:i,Collects:o}=this.info;if(document.title=e,document.querySelector("#viewName").textContent=e,document.querySelector("#viewContent").textContent=n,document.querySelector("#viewImage").src=i,!c){document.querySelector("#btnCollect").style.display="none";return}const t=document.querySelector("#btnCollect");o.length>0?(t.textContent="取消收藏",t.classList.add("btn-danger"),t.classList.remove("btn-warning")):(t.textContent="收藏",t.classList.add("btn-warning"),t.classList.remove("btn-danger"))},bindEvent:function(){document.querySelector("#btnCollect").addEventListener("click",n=>{n.preventDefault(),a(this.id).then(i=>{const{isSuccess:o,message:t}=i;if(!o){s(t);return}d(t).then(()=>{this.getInfo()})})})}};const u=()=>{l(c),m.getID()};u();
